<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
    <xacro:arg name="robot_namespace" default="" />
    <xacro:property name="ns" value="$(arg robot_namespace)" />
    <!-- ros2_control 硬件接口（使用 mock 组件做演示） -->
    <ros2_control name="${ns}car" type="system">
        <hardware>
            <param name="calculate_dynamics">true</param>
            <plugin>mock_components/GenericSystem</plugin>
            <!-- 让关节状态由控制器驱动（不需要额外“传感器命令”） -->
            <param name="mock_sensor_commands">true</param>
            <!-- 更新周期（秒） -->
            <!-- <param name="example_param_read_for_demo">0.001</param> -->
        </hardware>

        <!-- 后轮：速度控制接口（diff_drive） -->
        <joint name="${ns}rear_left_wheel_joint">
            <command_interface name="velocity" />
            <state_interface name="position" />
            <state_interface name="velocity" />
        </joint>

        <joint name="${ns}rear_right_wheel_joint">
            <command_interface name="velocity" />
            <state_interface name="position" />
            <state_interface name="velocity" />
        </joint>

        <!-- 前轮转向：位置控制接口（给定转向角） -->
        <joint name="${ns}front_left_steer_joint">
            <command_interface name="position" />
            <state_interface name="position" />
            <state_interface name="velocity" />
        </joint>

        <joint name="${ns}front_right_steer_joint">
            <command_interface name="position" />
            <state_interface name="position" />
            <state_interface name="velocity" />
        </joint>

        <!-- 前轮滚动：仅状态 -->
        <joint name="${ns}front_left_wheel_joint">
            <state_interface name="position" />
            <state_interface name="velocity" />
        </joint>

        <joint name="${ns}front_right_wheel_joint">
            <state_interface name="position" />
            <state_interface name="velocity" />
        </joint>

    </ros2_control>

</robot>